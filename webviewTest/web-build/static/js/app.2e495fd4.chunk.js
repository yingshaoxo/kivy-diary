(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{131:function(e,t,n){var r=n(224),a=r,o=Function("return this")();a.exportSymbol("proto.EveryDay",null,o),a.exportSymbol("proto.OneDay",null,o),a.exportSymbol("proto.OneDay.Content",null,o),proto.OneDay=function(e){r.Message.initialize(this,e,0,-1,proto.OneDay.repeatedFields_,null)},a.inherits(proto.OneDay,r.Message),a.DEBUG&&!COMPILED&&(proto.OneDay.displayName="proto.OneDay"),proto.OneDay.Content=function(e){r.Message.initialize(this,e,0,-1,proto.OneDay.Content.repeatedFields_,null)},a.inherits(proto.OneDay.Content,r.Message),a.DEBUG&&!COMPILED&&(proto.OneDay.Content.displayName="proto.OneDay.Content"),proto.EveryDay=function(e){r.Message.initialize(this,e,0,-1,proto.EveryDay.repeatedFields_,null)},a.inherits(proto.EveryDay,r.Message),a.DEBUG&&!COMPILED&&(proto.EveryDay.displayName="proto.EveryDay"),proto.OneDay.repeatedFields_=[2],r.Message.GENERATE_TO_OBJECT&&(proto.OneDay.prototype.toObject=function(e){return proto.OneDay.toObject(e,this)},proto.OneDay.toObject=function(e,t){var n={date:r.Message.getFieldWithDefault(t,1,""),contentList:r.Message.toObjectList(t.getContentList(),proto.OneDay.Content.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.OneDay.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.OneDay;return proto.OneDay.deserializeBinaryFromReader(n,t)},proto.OneDay.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setDate(n);break;case 2:n=new proto.OneDay.Content;t.readMessage(n,proto.OneDay.Content.deserializeBinaryFromReader),e.addContent(n);break;default:t.skipField()}}return e},proto.OneDay.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.OneDay.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.OneDay.serializeBinaryToWriter=function(e,t){var n=void 0;(n=e.getDate()).length>0&&t.writeString(1,n),(n=e.getContentList()).length>0&&t.writeRepeatedMessage(2,n,proto.OneDay.Content.serializeBinaryToWriter)},proto.OneDay.Content.repeatedFields_=[3],r.Message.GENERATE_TO_OBJECT&&(proto.OneDay.Content.prototype.toObject=function(e){return proto.OneDay.Content.toObject(e,this)},proto.OneDay.Content.toObject=function(e,t){var n,a={date:r.Message.getFieldWithDefault(t,1,""),text:r.Message.getFieldWithDefault(t,2,""),imageList:null==(n=r.Message.getRepeatedField(t,3))?void 0:n};return e&&(a.$jspbMessageInstance=t),a}),proto.OneDay.Content.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.OneDay.Content;return proto.OneDay.Content.deserializeBinaryFromReader(n,t)},proto.OneDay.Content.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setDate(n);break;case 2:n=t.readString();e.setText(n);break;case 3:n=t.readString();e.addImage(n);break;default:t.skipField()}}return e},proto.OneDay.Content.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.OneDay.Content.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.OneDay.Content.serializeBinaryToWriter=function(e,t){var n=void 0;(n=e.getDate()).length>0&&t.writeString(1,n),(n=e.getText()).length>0&&t.writeString(2,n),(n=e.getImageList()).length>0&&t.writeRepeatedString(3,n)},proto.OneDay.Content.prototype.getDate=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.OneDay.Content.prototype.setDate=function(e){return r.Message.setProto3StringField(this,1,e)},proto.OneDay.Content.prototype.getText=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.OneDay.Content.prototype.setText=function(e){return r.Message.setProto3StringField(this,2,e)},proto.OneDay.Content.prototype.getImageList=function(){return r.Message.getRepeatedField(this,3)},proto.OneDay.Content.prototype.setImageList=function(e){return r.Message.setField(this,3,e||[])},proto.OneDay.Content.prototype.addImage=function(e,t){return r.Message.addToRepeatedField(this,3,e,t)},proto.OneDay.Content.prototype.clearImageList=function(){return this.setImageList([])},proto.OneDay.prototype.getDate=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.OneDay.prototype.setDate=function(e){return r.Message.setProto3StringField(this,1,e)},proto.OneDay.prototype.getContentList=function(){return r.Message.getRepeatedWrapperField(this,proto.OneDay.Content,2)},proto.OneDay.prototype.setContentList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.OneDay.prototype.addContent=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.OneDay.Content,t)},proto.OneDay.prototype.clearContentList=function(){return this.setContentList([])},proto.EveryDay.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.EveryDay.prototype.toObject=function(e){return proto.EveryDay.toObject(e,this)},proto.EveryDay.toObject=function(e,t){var n={onedayList:r.Message.toObjectList(t.getOnedayList(),proto.OneDay.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.EveryDay.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.EveryDay;return proto.EveryDay.deserializeBinaryFromReader(n,t)},proto.EveryDay.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=new proto.OneDay;t.readMessage(n,proto.OneDay.deserializeBinaryFromReader),e.addOneday(n);break;default:t.skipField()}}return e},proto.EveryDay.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.EveryDay.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.EveryDay.serializeBinaryToWriter=function(e,t){var n;(n=e.getOnedayList()).length>0&&t.writeRepeatedMessage(1,n,proto.OneDay.serializeBinaryToWriter)},proto.EveryDay.prototype.getOnedayList=function(){return r.Message.getRepeatedWrapperField(this,proto.OneDay,1)},proto.EveryDay.prototype.setOnedayList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.EveryDay.prototype.addOneday=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.OneDay,t)},proto.EveryDay.prototype.clearOnedayList=function(){return this.setOnedayList([])},a.object.extend(t,proto)},156:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(4),i=n(13),s=n(15),p=n(132),c=n(240),l=n(58),u=n(5),y=n(49);function d(e){var t=e.navigation;return a.a.createElement(u.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},a.a.createElement(l.a,null,"Home!"),a.a.createElement(y.a,{title:"Go to Editor",onPress:function(){return t.navigate("Add More")}}))}var g=n(11),f=n.n(g),D=n(29),h=n.n(D),m=n(154),O=n(17),v=n.n(O),E=n(2),w=n.n(E),C=n(16),B=n.n(C),F=n(34),b=n.n(F),M=n(21),x=n.n(M),L=n(22),R=n.n(L),k=n(12),T=n.n(k),W=n(92),z=n(155),I=n(40),j=n(157),S=n(46);function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=s.a.get("window").width,_=s.a.get("window").height,U=function(e){x()(a,e);var t,n=(t=a,function(){var e,n=T()(t);if(P()){var r=T()(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return R()(this,e)});function a(){var e;B()(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).getPermissionAsync=function(){var e;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j.a.platform.ios){t.next=6;break}return t.next=3,w.a.awrap(S.c(S.b));case 3:e=t.sent,"granted"!==e.status&&alert("Sorry, we need camera roll permissions to make this work!");case 6:case"end":return t.stop()}}),null,null,null,Promise)},e._pickImage=function(){var t;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.a.awrap(z.a({mediaTypes:I.a.Images,base64:!0,allowsEditing:!0,aspect:[4,3],quality:1}));case 3:(t=n.sent).cancelled||(e.props.setImageUriList([].concat(v()(e.props.imageUriList),[t.uri])),e.toDataUrl(t.uri,(function(e,t){e.props.setImageBase64List([].concat(v()(e.props.imageBase64List),[t]))}))),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)},e}return b()(a,[{key:"render",value:function(){return r.createElement(u.a,this.props,r.createElement(u.a,{style:G.pickImageButton},r.createElement(y.a,{title:"Pick an image",color:"#FFCC80",onPress:this._pickImage})),r.createElement(u.a,{style:G.imageBox},this.props.imageUriList.map((function(e,t){return r.createElement(u.a,{style:G.image,key:t},r.createElement(W.a,{key:t,source:{uri:e},style:G.image}))}))))}},{key:"componentDidMount",value:function(){this.getPermissionAsync()}},{key:"toDataUrl",value:function(e,t){var n=this,r=new XMLHttpRequest;r.onload=function(){var e=new FileReader;e.onloadend=function(){t(n,e.result)},e.readAsDataURL(r.response)},r.open("GET",e),r.responseType="blob",r.send()}}]),a}(r.Component),G=o.a.create({pickImageButton:{marginBottom:.005*_},imageBox:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignContent:"stretch",flexWrap:"wrap"},image:{width:33.3/100*A,height:33.3/100*A}}),N=s.a.get("window").width,J=s.a.get("window").height,H=n(122).default,q=n(131),Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",$=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=t,r="",a=0,o=0,i=Y;n.charAt(0|o)||(i="=",o%1);r+=i.charAt(63&a>>8-o%1*8)){if((e=n.charCodeAt(o+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");a=a<<8|e}return r};function X(e,t){var n=new q.OneDay,r=n.addContent();r.setText(e),r.setImageList(t);var a=n.serializeBinary();a=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,a=0;a<r;a++)t+=String.fromCharCode(n[a]);return $($(t))}(a),H.post("http://192.168.49.31:8888/api/v1/upload",{action:"oneday",data:a}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}function K(e){return a.a.createElement(m.a,h()({},e,{editable:!0,multiline:!0,numberOfLines:8,maxLength:40}))}function Q(e){var t=e.navigation,n=a.a.useState(""),r=f()(n,2),o=r[0],i=r[1],s=a.a.useState([]),p=f()(s,2),c=p[0],l=p[1],d=a.a.useState([]),g=f()(d,2),D=g[0],h=g[1];return a.a.createElement(u.a,{style:V.container},a.a.createElement(u.a,{style:V.topWhite}),a.a.createElement(u.a,{style:V.topBar},a.a.createElement(u.a,{style:V.cancelButton},a.a.createElement(y.a,{title:"Cancel",color:"#90A4AE",onPress:function(){i(""),l([]),h([]),t.navigate("Your History")}})),a.a.createElement(u.a,{style:V.saveButton},a.a.createElement(y.a,{title:"Save",color:"#FF5252",onPress:function(){X(o,D)}}))),a.a.createElement(u.a,{style:V.inputBox},a.a.createElement(K,{style:V.textInput,onChangeText:function(e){i(e)},value:o,placeholder:"What's happenning?"})),a.a.createElement(U,{style:V.imagePicker,imageUriList:c,setImageUriList:l,imageBase64List:D,setImageBase64List:h}))}var V=o.a.create({container:{flex:1},topWhite:{flex:.5},topBar:{flex:.8,flexDirection:"row",justifyContent:"space-between"},cancelButton:{width:.2*N,justifyContent:"center"},saveButton:{width:.2*N,justifyContent:"center"},inputBox:{flex:6,justifyContent:"center",alignItems:"center",margin:.02*J},textInput:{fontSize:24},imagePicker:{flex:10,justifyContent:"flex-start"}});n.d(t,"a",(function(){return ee}));s.a.get("window").width,s.a.get("window").height;var Z=Object(c.a)();n(122).default,n(131);function ee(){return a.a.createElement(p.a,null,a.a.createElement(Z.Navigator,null,a.a.createElement(Z.Screen,{name:"Your History",component:d}),a.a.createElement(Z.Screen,{name:"Add More",component:Q})))}"web"==i.a.OS&&console.log("hi, web");o.a.create({container:{flex:1}})},163:function(e,t,n){n(164),e.exports=n(229)},164:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/ui/expo-service-worker.js",{scope:"/ui/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[163,1,2]]]);
//# sourceMappingURL=app.2e495fd4.chunk.js.map